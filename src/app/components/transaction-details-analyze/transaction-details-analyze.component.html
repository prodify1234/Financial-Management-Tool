<div class="container">
  <h2>Transaction Analysis</h2>
  <p>Showing analysis for statement ID:</p>

  <div class="filters">
    <mat-form-field appearance="outline">
      <mat-label>Classification</mat-label>
      <mat-select [(ngModel)]="selectedClassification">
        <mat-option value="all">All</mat-option>
        <mat-option value="income">Income</mat-option>
        <mat-option value="expenditure">Expenditure</mat-option>
        <mat-option value="cash">Cash Withdrawal</mat-option>
      </mat-select>
    </mat-form-field>

    <div class="slider-container">
      <label>Min Confidence</label>
      <input type="range" min="0" max="100" step="1" [(ngModel)]="minConfidence">
      <span>{{ minConfidence / 100 | number: '1.2-2' }}</span>
    </div>

    <button mat-raised-button color="primary">Apply</button>
  </div>

  <table mat-table [dataSource]="transactions" class="mat-elevation-z2">

    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef>Date</th>
      <td mat-cell *matCellDef="let element">{{ element.date }}</td>
    </ng-container>

    <ng-container matColumnDef="description">
      <th mat-header-cell *matHeaderCellDef>Description</th>
      <td mat-cell *matCellDef="let element">{{ element.description }}</td>
    </ng-container>

    <ng-container matColumnDef="amount">
      <th mat-header-cell *matHeaderCellDef>Amount</th>
      <td mat-cell *matCellDef="let element">{{ element.amount | currency }}</td>
    </ng-container>

    <ng-container matColumnDef="classification">
      <th mat-header-cell *matHeaderCellDef>Classification</th>
      <td mat-cell *matCellDef="let element">{{ element.classification }}</td>
    </ng-container>

    <ng-container matColumnDef="sub">
      <th mat-header-cell *matHeaderCellDef>Sub-classification</th>
      <td mat-cell *matCellDef="let element">{{ element.sub }}</td>
    </ng-container>

    <ng-container matColumnDef="confidence">
      <th mat-header-cell *matHeaderCellDef>Confidence</th>
      <td mat-cell *matCellDef="let element">
        <mat-progress-bar mode="determinate" [value]="element.confidence"></mat-progress-bar>
        {{ element.confidence }}%
      </td>
    </ng-container>

    <ng-container matColumnDef="manual">
      <th mat-header-cell *matHeaderCellDef>Manually Overridden</th>
      <td mat-cell *matCellDef="let element">
        <span *ngIf="element.manual" class="chip">Yes</span>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>

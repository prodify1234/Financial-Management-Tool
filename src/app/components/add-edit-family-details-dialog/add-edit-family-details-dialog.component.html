<div class="dialog-container">
  <h1 mat-dialog-title>{{ data.type === 'add' ? 'Add' : 'Edit'}} Family Details</h1>
  @if(loader()){
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  }
    <div mat-dialog-content [class.disabled]="loader()" >
     
        <form  [formGroup]="familyDetailsForm">
          <mat-form-field appearance="outline">
            <mat-label>First Name</mat-label>
            <input matInput placeholder="First Name" formControlName="first_name" />
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Last Name</mat-label>
            <input matInput placeholder="Last Name" formControlName="last_name" />
          </mat-form-field>
          <mat-form-field appearance="outline" >
            <mat-label>Email</mat-label>
            <input matInput placeholder="Email" formControlName="email"  />
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Phone Number</mat-label>
            <input
              matInput
              placeholder="Phone Number"
              formControlName="phone_number"
             
            />
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>PAN Number</mat-label>
            <input matInput placeholder="PAN Number" formControlName="pan_number" />
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Aadhaar Number</mat-label>
            <input
              matInput
              placeholder="Aadhaar Number"
              formControlName="aadhaar_number"
              
            />
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Relation</mat-label>
            <mat-select  formControlName="relation">
              @for (relation of relationships; track relation) {
                <mat-option [value]="relation">{{ relation}}</mat-option>
              }
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Address</mat-label>
            <textarea
              matInput
              placeholder="Address"
              formControlName="address"
            ></textarea>
          </mat-form-field>
        </form>
     
    </div>
    <div mat-dialog-actions [class.disabled]="loader()">
      <button mat-button type="button" (click)="onCancel()">Cancel</button>

      @if(data.type === 'add'){
        <button
          mat-flat-button
          type="button"
          class="btn-add"
          [disabled]="familyDetailsForm.invalid"
          (click)="onAdd()"
        >
          ADD
        </button>
      } @else {
        <button
          mat-flat-button
          type="button"
          class="btn-add"
          [disabled]="familyDetailsForm.invalid"
          (click)="onUpdate()"
        >
          Update
        </button>
      }
     
    </div>
</div>
